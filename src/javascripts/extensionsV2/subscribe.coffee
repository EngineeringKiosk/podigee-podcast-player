$ = require('jquery')
_ = require('lodash')
sightglass = require('sightglass')
rivets = require('rivets')
Uri = require('urijs')

Extension = require('../extension.coffee')

class SubscribeV2 extends Extension
  @extension:
    name: 'Subscribe'
    type: 'menu'

  constructor: (app) ->
    super(app)

    @podcast = @app.podcast
    return unless @podcast && @podcast.title

    @options = _.extend(@defaultOptions, @app.extensionOptions.SubscribeBar)

    return if @options.disabled
    @type = 'menu'

    @buildContext()

    @renderPanel()
    @renderButton()

    @app.theme.addExtension(this)

  defaultOptions:
    showOnStart: false

  buildContext: =>
    @context ?= {}
    @context.feedUrl = @podcast.feed?.feedUrl
    @context.connections = @podcast.connections

  renderPanel: =>
    @panel = $(@panelHtml())
    @view = rivets.bind(@panel, @context)
    @panel.hide()
    @bindEvents()

  closePanel: () =>
    @app.theme.togglePanel(@panel)

  bindEvents: () =>
    @panel.find('.feed-url-copy-btn').on 'click', =>
      @copyUrlAction(@context.feedUrl)

    @panel.find('.close-button').on 'click', @closePanel

  copyUrlAction: (url) =>
    temp = document.createElement('input')
    document.body.appendChild(temp)
    temp.value =  url
    temp.select()
    document.execCommand('copy')
    document.body.removeChild(temp)

  buttonHtml: ->
    """
    <button
      class="subscribe-menu-button list-button"
      aria-label="#{@t('subscribeBar.subscribe')}"
      title"#{@t('subscribeBar.subscribe')}"
    >#{@t('subscribeBar.subscribe')}</button>
    """

  panelHtml: ->
    """
      <div class="subscribe-menu">
        <button class="close-button" title="Close" aria-label="Close">
          <svg
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Close</title>
            <path
              d="M17.0575 19.429L9.92732 12.3102L2.79879 19.429C2.47847 19.713 2.06169 19.8641 1.63361 19.8513C1.20554 19.8386 0.798489 19.663 0.495659 19.3604C0.19283 19.0579 0.0170805 18.6512 0.00432973 18.2235C-0.00842104 17.7958 0.142789 17.3794 0.427058 17.0594L7.55059 9.93731L0.427058 2.8119C0.141393 2.49213 -0.0111538 2.07537 0.000635795 1.64692C0.0124254 1.21846 0.18766 0.81071 0.490478 0.507102C0.793296 0.203494 1.2008 0.0269879 1.6296 0.0137052C2.05839 0.000422413 2.47606 0.151367 2.79712 0.43565L9.92732 7.56106L17.0592 0.43565C17.3792 0.145477 17.7987 -0.0103567 18.2307 0.00053476C18.6627 0.0114263 19.0739 0.188205 19.3788 0.494133C19.6837 0.800061 19.8589 1.21161 19.868 1.64325C19.8771 2.0749 19.7194 2.49344 19.4276 2.8119L12.3041 9.93731L19.4276 17.0594C19.6004 17.2108 19.7403 17.396 19.8386 17.6036C19.9369 17.8112 19.9915 18.0367 19.9991 18.2662C20.0067 18.4957 19.967 18.7243 19.8826 18.9379C19.7982 19.1515 19.6708 19.3455 19.5083 19.508C19.3459 19.6704 19.1518 19.7978 18.9381 19.8823C18.7243 19.9668 18.4955 20.0065 18.2658 19.9991C18.0361 19.9917 17.8103 19.9373 17.6025 19.8392C17.3946 19.7412 17.2092 19.6015 17.0575 19.429Z"
            />
          </svg>
        </button>

        <div class="copy-rss flex-item">
          <svg
            class="rss-svg"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>#{@t('subscribeBar.rssCopy')}</title>
            <path
              d="M18.1817 1.91149e-07H1.81833C1.57952 -0.000109333 1.34302 0.0468486 1.12236 0.13819C0.901698 0.229531 0.701203 0.363464 0.532333 0.532333C0.363464 0.701203 0.229531 0.901698 0.13819 1.12236C0.0468486 1.34302 -0.000109333 1.57952 1.91149e-07 1.81833V18.1817C-0.000109333 18.4205 0.0468486 18.657 0.13819 18.8776C0.229531 19.0983 0.363464 19.2988 0.532333 19.4677C0.701203 19.6365 0.901698 19.7705 1.12236 19.8618C1.34302 19.9532 1.57952 20.0001 1.81833 20H18.1817C18.4205 20.0001 18.657 19.9532 18.8776 19.8618C19.0983 19.7705 19.2988 19.6365 19.4677 19.4677C19.6365 19.2988 19.7705 19.0983 19.8618 18.8776C19.9532 18.657 20.0001 18.4205 20 18.1817V1.81833C20.0001 1.57952 19.9532 1.34302 19.8618 1.12236C19.7705 0.901698 19.6365 0.701203 19.4677 0.532333C19.2988 0.363464 19.0983 0.229531 18.8776 0.13819C18.657 0.0468486 18.4205 -0.000109333 18.1817 1.91149e-07V1.91149e-07ZM4.54583 17.2725C4.1862 17.2725 3.83464 17.1659 3.53562 16.9661C3.2366 16.7663 3.00354 16.4823 2.86591 16.15C2.72829 15.8178 2.69228 15.4521 2.76244 15.0994C2.8326 14.7467 3.00578 14.4227 3.26008 14.1684C3.51438 13.9141 3.83837 13.7409 4.19109 13.6708C4.54382 13.6006 4.90942 13.6366 5.24168 13.7742C5.57394 13.9119 5.85792 14.1449 6.05772 14.444C6.25752 14.743 6.36417 15.0945 6.36417 15.4542C6.36428 15.693 6.31732 15.9295 6.22598 16.1501C6.13464 16.3708 6.0007 16.5713 5.83183 16.7402C5.66296 16.909 5.46247 17.043 5.24181 17.1343C5.02115 17.2257 4.78465 17.2726 4.54583 17.2725V17.2725ZM10.9092 17.2725C10.668 17.2725 10.4368 17.1767 10.2663 17.0062C10.0958 16.8357 10 16.6045 10 16.3633C9.99801 14.6763 9.32696 13.0589 8.13403 11.866C6.9411 10.673 5.32372 10.002 3.63667 10C3.39554 10 3.16429 9.90421 2.99379 9.73371C2.82329 9.56321 2.7275 9.33196 2.7275 9.09083C2.7275 8.84971 2.82329 8.61846 2.99379 8.44796C3.16429 8.27745 3.39554 8.18167 3.63667 8.18167C5.80583 8.18409 7.88546 9.04687 9.4193 10.5807C10.9531 12.1145 11.8159 14.1942 11.8183 16.3633C11.8183 16.6045 11.7225 16.8357 11.552 17.0062C11.3815 17.1767 11.1503 17.2725 10.9092 17.2725V17.2725ZM16.3633 17.2725C16.1222 17.2725 15.891 17.1767 15.7205 17.0062C15.55 16.8357 15.4542 16.6045 15.4542 16.3633C15.45 13.2304 14.2036 10.227 11.9883 8.01173C9.77297 5.79642 6.76958 4.55002 3.63667 4.54583C3.51727 4.54583 3.39905 4.52232 3.28874 4.47663C3.17844 4.43094 3.07821 4.36397 2.99379 4.27954C2.90936 4.19512 2.8424 4.09489 2.79671 3.98459C2.75102 3.87428 2.7275 3.75606 2.7275 3.63667C2.7275 3.51727 2.75102 3.39905 2.79671 3.28874C2.8424 3.17844 2.90936 3.07821 2.99379 2.99379C3.07821 2.90936 3.17844 2.8424 3.28874 2.79671C3.39905 2.75102 3.51727 2.7275 3.63667 2.7275C7.25183 2.73169 10.7177 4.16966 13.274 6.72597C15.8303 9.28228 17.2683 12.7482 17.2725 16.3633C17.2725 16.6045 17.1767 16.8357 17.0062 17.0062C16.8357 17.1767 16.6045 17.2725 16.3633 17.2725V17.2725Z"
            />
          </svg>
          <span class="display-sm-desktop">RSS</span>
          <span class="display-xs-mobile">#{@t('subscribeBar.rssCopy')}</span>
          <input
            type="text"
            class="truncate"
            pp-value="feedUrl"
          />
          <button class="feed-url-copy-btn" title="#{@t('subscribeBar.rssCopy')}" aria-label="#{@t('subscribeBar.rssCopy')}">
            <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <title>#{@t('subscribeBar.rssCopy')}</title>
              <path
                d="M18 4H6C5.46957 4 4.96086 4.21071 4.58579 4.58579C4.21071 4.96086 4 5.46957 4 6V18C4 18.5304 4.21071 19.0391 4.58579 19.4142C4.96086 19.7893 5.46957 20 6 20H18C18.5304 20 19.0391 19.7893 19.4142 19.4142C19.7893 19.0391 20 18.5304 20 18V6C20 5.46957 19.7893 4.96086 19.4142 4.58579C19.0391 4.21071 18.5304 4 18 4V4ZM18 18H6V6H18V18Z"
              />
              <path
                d="M2 2H16V0H2C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2V16H2V2Z"
              />
            </svg>
          </button>
        </div>

        <div class="subscribe-items flex-item" >
          <ul class="subscribe-items-list">
            <li class="subscribe-item" pp-if="connections.itunes">
              <a
                pp-title="translations.podcastOnItunes"
                pp-aria-label="translations.podcastOnItunes"
                pp-href="connections.itunes"
                target="_blank">
                <svg
                  viewBox="0 0 20 20"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <title>Apple Podcasts</title>
                  <path
                    d="M15.5508 20H4.44917C3.26918 20 2.13751 19.5313 1.30313 18.6969C0.468751 17.8625 1.25066e-06 16.7308 1.25066e-06 15.5508V4.44917C-0.000437074 3.86477 0.114345 3.28602 0.337781 2.74603C0.561217 2.20603 0.888924 1.71538 1.30215 1.30215C1.71538 0.888922 2.20603 0.561216 2.74603 0.337779C3.28602 0.114343 3.86477 -0.000438981 4.44917 -6.56687e-07H15.5508C16.7308 -6.56687e-07 17.8625 0.46875 18.6969 1.30313C19.5312 2.13751 20 3.26917 20 4.44917V15.5508C20 16.7308 19.5312 17.8625 18.6969 18.6969C17.8625 19.5313 16.7308 20 15.5508 20ZM9.89333 10.9167H9.88C9.51846 10.9074 9.1595 10.9801 8.83 11.1292C8.56636 11.248 8.35573 11.4599 8.23833 11.7242C8.07167 12.1092 8.1375 13.3492 8.42 15.3075C8.58667 16.4742 8.70333 17.0108 8.98 17.2783C9.02192 17.3344 9.07094 17.3849 9.12583 17.4283C9.2735 17.5376 9.44476 17.6107 9.62583 17.6417C9.75297 17.6679 9.88275 17.6791 10.0125 17.675C10.1423 17.6797 10.2721 17.6685 10.3992 17.6417C10.5506 17.6086 10.6928 17.5426 10.8158 17.4483C10.9628 17.3287 11.0755 17.1723 11.1425 16.995C11.2703 16.6307 11.3543 16.2525 11.3925 15.8683C11.4925 15.1867 11.61 14.1942 11.6658 13.56C11.7129 13.1261 11.7285 12.6894 11.7125 12.2533C11.7094 12.0617 11.6687 11.8725 11.5925 11.6967C11.5163 11.5547 11.4065 11.4337 11.2725 11.3442L11.2192 11.3075C10.8367 11.0258 10.3674 10.8874 9.89333 10.9167V10.9167ZM9.8875 2.14C8.92918 2.13349 7.98004 2.32697 7.10073 2.70808C6.22143 3.08919 5.4313 3.64954 4.78083 4.35333C3.8366 5.34484 3.20182 6.59006 2.95417 7.93667C2.84582 8.77828 2.8548 9.63086 2.98083 10.47C3.19417 11.5514 3.65006 12.5703 4.31417 13.45C4.9873 14.3118 5.85063 15.0063 6.83667 15.4792L6.87 15.5033C7.11151 15.6289 7.36223 15.7359 7.62 15.8233C7.62744 15.8246 7.63506 15.8246 7.6425 15.8233C7.69167 15.805 7.6975 15.7192 7.66667 15.44C7.61417 14.9542 7.55583 14.8475 7.27333 14.7267C7.0346 14.6115 6.80406 14.4801 6.58333 14.3333C5.26112 13.4532 4.31311 12.1131 3.92333 10.5733C3.77113 9.65292 3.77113 8.71375 3.92333 7.79333C4.21001 6.65417 4.80919 5.61772 5.65333 4.80083C6.47812 3.98676 7.51942 3.42677 8.65333 3.1875C9.06605 3.11585 9.48448 3.08237 9.90333 3.0875C10.3222 3.08189 10.7407 3.11536 11.1533 3.1875C12.2681 3.43036 13.2947 3.97474 14.1212 4.76124C14.9477 5.54774 15.5422 6.54615 15.84 7.6475C16.0358 8.60864 16.0494 9.59802 15.88 10.5642C15.5985 11.6795 15.0203 12.6977 14.2067 13.5108C13.7153 13.9951 13.1506 14.3986 12.5333 14.7067C12.2525 14.8242 12.1933 14.9308 12.1333 15.42C12.1033 15.7 12.1075 15.7817 12.1558 15.7992C12.1638 15.8006 12.172 15.8006 12.18 15.7992C12.8727 15.537 13.5274 15.1836 14.1267 14.7483C15.5517 13.6695 16.5161 12.0918 16.8267 10.3317C16.9212 9.53878 16.919 8.73734 16.82 7.945C16.5764 6.56204 15.9185 5.2857 14.9333 4.285C14.2863 3.5971 13.5039 3.05047 12.6354 2.67947C11.7669 2.30847 10.8311 2.12111 9.88667 2.12917L9.8875 2.14ZM9.91667 4.48083C9.43414 4.46831 8.95245 4.52786 8.4875 4.6575C7.72433 4.91247 7.03565 5.35136 6.48222 5.93545C5.9288 6.51954 5.52765 7.23087 5.31417 8.00667C5.15459 8.75356 5.15232 9.52551 5.3075 10.2733C5.56455 11.2445 6.10817 12.1156 6.8675 12.7733L6.895 12.7825C7.02591 12.8977 7.16898 12.9983 7.32167 13.0825C7.37099 12.9184 7.38769 12.7463 7.37083 12.5758V12.0667L7.02667 11.65C6.40196 10.9125 6.07507 9.96838 6.11 9.0025C6.15612 8.04407 6.56342 7.13865 7.25 6.46833C7.81514 5.90074 8.55018 5.53322 9.34333 5.42167C9.54252 5.38243 9.74458 5.35958 9.9475 5.35333C10.15 5.35948 10.3514 5.38459 10.5492 5.42833C11.3158 5.54941 12.0233 5.91337 12.5675 6.46667C13.2563 7.14175 13.6619 8.05407 13.7015 9.01774C13.7412 9.98142 13.4119 10.924 12.7808 11.6533L12.4342 12.07V12.57C12.4226 12.7377 12.4361 12.9062 12.4742 13.07C12.8875 12.815 13.254 12.4908 13.5575 12.1117C14.1144 11.423 14.4657 10.5911 14.5708 9.71167C14.7171 8.56409 14.419 7.40401 13.7375 6.46917C13.066 5.5075 12.0603 4.83043 10.9167 4.57C10.5873 4.50623 10.2522 4.47636 9.91667 4.48083V4.48083ZM9.88917 6.97333C9.64683 6.96748 9.40642 7.01767 9.18667 7.12C8.91176 7.25136 8.6792 7.45718 8.5154 7.71408C8.35159 7.97098 8.26311 8.26867 8.26 8.57333C8.25302 8.81185 8.30033 9.04883 8.39835 9.26639C8.49638 9.48394 8.64255 9.67638 8.82583 9.82917C9.01604 10.019 9.24932 10.16 9.50579 10.2402C9.76226 10.3204 10.0343 10.3374 10.2988 10.2897C10.5632 10.242 10.8122 10.1311 11.0246 9.96645C11.2369 9.80177 11.4063 9.58819 11.5182 9.34391C11.6302 9.09964 11.6814 8.83191 11.6676 8.56355C11.6537 8.2952 11.5752 8.03417 11.4387 7.80271C11.3022 7.57126 11.1117 7.37625 10.8836 7.2343C10.6554 7.09236 10.3963 7.00768 10.1283 6.9875C10.049 6.97797 9.9691 6.97324 9.88917 6.97333Z"
                  />
                </svg>
                <span>Apple Podcasts</span>
              </a>
            </li>
            <li class="subscribe-item" pp-if="connections.spotify">
              <a
                pp-title="translations.podcastOnSpotify"
                pp-aria-label="translations.podcastOnSpotify"
                pp-href="connections.spotify"
                target="_blank">
                <svg
                  width="20"
                  viewBox="0 0 20 20"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <title>Spotify</title>
                  <path
                    d="M10 0C8.02219 0 6.08879 0.58649 4.4443 1.6853C2.79981 2.78412 1.51809 4.3459 0.761209 6.17317C0.00433286 8.00043 -0.193701 10.0111 0.192152 11.9509C0.578004 13.8907 1.53041 15.6725 2.92894 17.0711C4.32746 18.4696 6.10929 19.422 8.0491 19.8079C9.98891 20.1937 11.9996 19.9957 13.8268 19.2388C15.6541 18.4819 17.2159 17.2002 18.3147 15.5557C19.4135 13.9112 20 11.9778 20 10C20 7.34783 18.9464 4.8043 17.0711 2.92893C15.1957 1.05357 12.6522 0 10 0V0ZM14.5833 14.4233C14.5406 14.4932 14.4846 14.5541 14.4184 14.6023C14.3521 14.6505 14.2771 14.6852 14.1974 14.7044C14.1178 14.7236 14.0351 14.7269 13.9542 14.7141C13.8733 14.7014 13.7957 14.6728 13.7258 14.63C11.3783 13.1958 8.4225 12.8708 4.94167 13.6667C4.86184 13.6849 4.7792 13.6872 4.69847 13.6735C4.61774 13.6598 4.5405 13.6303 4.47117 13.5867C4.33114 13.4987 4.2318 13.3587 4.195 13.1975C4.17678 13.1177 4.17447 13.035 4.18818 12.9543C4.2019 12.8736 4.23138 12.7963 4.27495 12.727C4.31851 12.6577 4.37531 12.5976 4.44209 12.5502C4.50888 12.5028 4.58434 12.4691 4.66417 12.4508C8.47334 11.58 11.7408 11.955 14.3767 13.5658C14.4466 13.6085 14.5074 13.6646 14.5556 13.7308C14.6039 13.797 14.6386 13.8721 14.6577 13.9517C14.6769 14.0314 14.6803 14.114 14.6675 14.1949C14.6547 14.2759 14.6261 14.3535 14.5833 14.4233V14.4233ZM15.8075 11.7C15.7541 11.7874 15.6839 11.8634 15.6011 11.9237C15.5182 11.9839 15.4243 12.0273 15.3247 12.0512C15.225 12.0751 15.1217 12.0791 15.0205 12.0631C14.9193 12.047 14.8223 12.0111 14.735 11.9575C11.699 10.2641 8.11508 9.84451 4.77 10.7908C4.67206 10.8206 4.56921 10.8308 4.46733 10.8208C4.36545 10.8108 4.26654 10.7809 4.17623 10.7327C4.08593 10.6845 4.006 10.6189 3.94102 10.5398C3.87604 10.4607 3.82727 10.3696 3.7975 10.2717C3.76774 10.1737 3.75755 10.0709 3.76754 9.96899C3.77752 9.86711 3.80747 9.7682 3.85568 9.67789C3.90389 9.58759 3.96941 9.50766 4.04851 9.44268C4.1276 9.3777 4.21873 9.32893 4.31667 9.29917C6.18322 8.76157 8.13834 8.60215 10.0673 8.83025C11.9963 9.05835 13.8603 9.66938 15.55 10.6275C15.6372 10.681 15.7131 10.7512 15.7732 10.834C15.8333 10.9168 15.8765 11.0107 15.9003 11.1102C15.9241 11.2097 15.9281 11.3129 15.9121 11.414C15.896 11.515 15.8602 11.6119 15.8067 11.6992L15.8075 11.7ZM15.9125 8.86667C12.6917 6.95 7.3725 6.77417 4.2975 7.7075C4.17997 7.74318 4.05656 7.75535 3.93432 7.74333C3.81208 7.73132 3.69341 7.69534 3.58507 7.63746C3.36628 7.52056 3.20289 7.32153 3.13084 7.08417C3.05879 6.8468 3.08398 6.59053 3.20088 6.37174C3.31778 6.15294 3.5168 5.98955 3.75417 5.9175C7.28917 4.84583 13.1592 5.0525 16.8725 7.25583C17.0859 7.38236 17.2403 7.58848 17.3017 7.82884C17.3631 8.0692 17.3265 8.32411 17.2 8.5375C17.0735 8.75089 16.8674 8.90527 16.627 8.96669C16.3866 9.02811 16.1317 8.99153 15.9183 8.865L15.9125 8.86667Z"
                  />
                </svg>
                <span>Spotify</span>
              </a>
            </li>
            <li class="subscribe-item" pp-if="connections.google">
              <a
                pp-title="translations.podcastOnGoogle"
                pp-aria-label="translations.podcastOnGoogle"
                pp-href="connections.google"
                target="_blank">
                <svg
                  viewBox="0 0 20 20"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <title>Google Podcasts</title>
                  <path
                    d="M8.75 18.7494V17.386C8.75 17.0545 8.88169 16.7366 9.11611 16.5021C9.35053 16.2677 9.66848 16.136 10 16.136C10.3315 16.136 10.6495 16.2677 10.8839 16.5021C11.1183 16.7366 11.25 17.0545 11.25 17.386V18.7494C11.25 19.0809 11.1183 19.3988 10.8839 19.6332C10.6495 19.8677 10.3315 19.9994 10 19.9994C9.66848 19.9994 9.35053 19.8677 9.11611 19.6332C8.88169 19.3988 8.75 19.0809 8.75 18.7494ZM13.1817 14.7718V10.3402C13.1817 10.0087 13.3133 9.69071 13.5478 9.45629C13.7822 9.22187 14.1001 9.09018 14.4317 9.09018C14.7632 9.09018 15.0811 9.22187 15.3156 9.45629C15.55 9.69071 15.6817 10.0087 15.6817 10.3402V14.7718C15.6817 15.1034 15.55 15.4213 15.3156 15.6557C15.0811 15.8902 14.7632 16.0218 14.4317 16.0218C14.1004 16.0216 13.7828 15.8899 13.5486 15.6557C13.3144 15.4215 13.1827 15.1039 13.1825 14.7727L13.1817 14.7718ZM4.31753 14.7718V13.4085C4.31753 13.077 4.44921 12.7591 4.68363 12.5246C4.91806 12.2902 5.236 12.1585 5.56753 12.1585C5.89905 12.1585 6.217 12.2902 6.45142 12.5246C6.68584 12.7591 6.81753 13.077 6.81753 13.4085V14.7718C6.81753 15.1034 6.68584 15.4213 6.45142 15.6557C6.217 15.8902 5.89905 16.0218 5.56753 16.0218C5.23629 16.0216 4.91866 15.8899 4.68445 15.6557C4.45023 15.4215 4.31856 15.1039 4.31834 14.7727L4.31753 14.7718ZM8.75 13.6352V6.36267C8.75 6.03115 8.88169 5.7132 9.11611 5.47878C9.35053 5.24436 9.66848 5.11267 10 5.11267C10.3315 5.11267 10.6495 5.24436 10.8839 5.47878C11.1183 5.7132 11.25 6.03115 11.25 6.36267V13.6352C11.25 13.9667 11.1183 14.2846 10.8839 14.5191C10.6495 14.7535 10.3315 14.8852 10 14.8852C9.66862 14.8852 9.35081 14.7536 9.11641 14.5194C8.88202 14.2851 8.75022 13.9674 8.75 13.636V13.6352ZM17.5 10.7185V9.35518C17.5 9.34351 17.5 9.33185 17.5 9.32018C17.5 8.98866 17.6317 8.67071 17.8661 8.43629C18.1005 8.20187 18.4185 8.07018 18.75 8.07018C19.0815 8.07018 19.3995 8.20187 19.6339 8.43629C19.8683 8.67071 20 8.98866 20 9.32018C20 9.33185 20 9.34351 20 9.35518V10.7185C19.9909 11.0439 19.8552 11.353 19.6218 11.5799C19.3883 11.8068 19.0755 11.9336 18.75 11.9335C18.4242 11.9336 18.1112 11.8065 17.8777 11.5792C17.6442 11.352 17.5087 11.0425 17.5 10.7168V10.7185ZM2.77817e-07 10.6827V9.31932C2.77817e-07 8.9878 0.131689 8.6699 0.366109 8.43548C0.60053 8.20106 0.91848 8.06932 1.25 8.06932C1.58152 8.06932 1.89947 8.20106 2.13389 8.43548C2.36831 8.6699 2.5 8.9878 2.5 9.31932V10.6827C2.5 11.0142 2.36831 11.3321 2.13389 11.5665C1.89947 11.801 1.58152 11.9327 1.25 11.9327C1.08578 11.9327 0.923196 11.9003 0.771485 11.8374C0.619773 11.7746 0.481888 11.6824 0.365804 11.5663C0.24972 11.4501 0.157679 11.3122 0.0949099 11.1604C0.0321406 11.0087 -0.000109204 10.846 2.77817e-07 10.6818V10.6827ZM4.31834 9.68853V5.22518C4.31834 4.89366 4.45003 4.57571 4.68445 4.34129C4.91887 4.10687 5.23682 3.97518 5.56834 3.97518C5.89986 3.97518 6.21781 4.10687 6.45223 4.34129C6.68665 4.57571 6.81834 4.89366 6.81834 5.22518V9.68517C6.81072 10.0116 6.67566 10.3221 6.44206 10.5502C6.20846 10.7784 5.89487 10.9061 5.56834 10.906C5.24223 10.9061 4.92897 10.7788 4.69543 10.5512C4.4619 10.3235 4.3266 10.0137 4.31834 9.68767V9.68853ZM13.1817 6.59186V5.22518C13.1817 4.89366 13.3133 4.57571 13.5478 4.34129C13.7822 4.10687 14.1001 3.97518 14.4317 3.97518C14.7632 3.97518 15.0811 4.10687 15.3156 4.34129C15.55 4.57571 15.6817 4.89366 15.6817 5.22518V6.5885C15.6817 6.92002 15.55 7.23797 15.3156 7.47239C15.0811 7.70681 14.7632 7.8385 14.4317 7.8385C14.1007 7.83828 13.7834 7.70681 13.5492 7.47295C13.315 7.2391 13.1831 6.92194 13.1825 6.591L13.1817 6.59186ZM8.75 2.61435V1.25103C8.75 0.919509 8.88169 0.60156 9.11611 0.367139C9.35053 0.132719 9.66848 0.00102997 10 0.00102997C10.3315 0.00102997 10.6495 0.132719 10.8839 0.367139C11.1183 0.60156 11.25 0.919509 11.25 1.25103V2.61435C11.25 2.94587 11.1183 3.26382 10.8839 3.49824C10.6495 3.73266 10.3315 3.86435 10 3.86435C9.83578 3.86435 9.6732 3.83196 9.52148 3.76909C9.36977 3.70622 9.23189 3.6141 9.1158 3.49794C8.99972 3.38178 8.90768 3.24386 8.84491 3.0921C8.78214 2.94035 8.74989 2.77771 8.75 2.61349V2.61435Z"
                  />
                </svg>
                <span>Google Podcasts</span>
              </a>
            </li>
            <li <li class="subscribe-item" pp-if="connections.podimo">
              <a
                pp-title="translations.podcastOnPodimo"
                pp-aria-label="translations.podcastOnPodimo"
                pp-href="connections.podimo"
                target="_blank"
              >
                <svg xmlns="http://www.w3.org/2000/svg" width="20" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M9.095.027c-1.687.18-3.03.631-4.407 1.483-1.302.805-2.515 2.051-3.305 3.393A10.178 10.178 0 00.028 9.09c-.037.382-.038 1.498 0 1.757.052.367.258.657.577.813.144.071.188.079.452.079s.308-.008.45-.078c.261-.128.454-.39.522-.71.018-.084.031-.417.032-.767 0-1.147.095-1.781.4-2.683.898-2.657 3.2-4.675 5.976-5.237.612-.125.908-.154 1.675-.169.846-.015 1-.043 1.24-.226.61-.464.512-1.396-.185-1.75a1.266 1.266 0 00-.361-.094C10.535-.01 9.42-.008 9.095.027zm.474 4.11a5.93 5.93 0 00-2.215.61 5.901 5.901 0 00-3.105 3.986c-.127.572-.13.673-.122 3.605l.009 2.772.074.159c.095.202.29.396.492.49.222.104.565.119.79.035.205-.077.362-.193.481-.357.208-.283.194-.07.211-3.141.015-2.722.016-2.762.078-3.037.178-.798.51-1.414 1.05-1.95a3.684 3.684 0 011.473-.918A3.497 3.497 0 019.99 6.21c.627 0 1.126.112 1.668.374 1.102.535 1.83 1.49 2.093 2.746.074.354.068 1.037-.012 1.412-.256 1.192-.99 2.148-2.058 2.681-.27.135-.672.272-.998.34-.168.036-.847.047-1.351.023-.231-.01-.287-.004-.441.055-.446.169-.724.652-.647 1.125.053.322.295.646.576.77.418.186 1.544.205 2.35.04a6.067 6.067 0 002.55-1.21c.246-.202.772-.74.938-.96a6.09 6.09 0 001.143-2.618c.053-.284.062-.432.063-.976 0-.68-.023-.892-.168-1.467a5.931 5.931 0 00-2.714-3.612c-.995-.588-2.279-.887-3.413-.795zm.041 4.147c-.314.07-.624.245-.863.485-.355.358-.507.728-.508 1.242-.001.258.01.34.07.52.284.834 1.047 1.329 1.892 1.223.432-.054.721-.198 1.04-.516.253-.253.397-.507.474-.836.06-.26.043-.684-.038-.934a1.811 1.811 0 00-1.147-1.145 2.182 2.182 0 00-.92-.04zm9.053-.005c-.29.082-.53.29-.663.573-.073.156-.073.159-.065.748.016 1.065-.098 1.937-.362 2.766-.839 2.638-2.872 4.587-5.525 5.294a8.918 8.918 0 01-2.466.264c-.398-.017-.447-.014-.61.041-.304.102-.49.263-.646.558-.058.109-.067.163-.067.418 0 .256.01.311.072.446.092.195.304.408.496.495.22.102.529.125 1.396.108.946-.02 1.416-.079 2.23-.282a9.949 9.949 0 005.869-4.152 9.908 9.908 0 001.639-4.583c.046-.46.053-1.47.013-1.783-.05-.394-.268-.702-.602-.855a1.232 1.232 0 00-.709-.056z"/>
                </svg>
                <span>Podimo</span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    """

module.exports = SubscribeV2
